slice是并发安全的吗

# 东信时代 9.3

1. 自我介绍✅️
2. 输入URL到网页显示❌（1应用层：URL解析，DNS解析，构建HTTP，TLS握手 2传输层：TCP三次握手 3网络层：IP封装，路由转发 4数据链路层：mac寻址，帧封装 5物理层：电/光/无线信号）
3. Go项目：介绍项目架构？❌
4. Go项目：多客户端同时接入如何支持？❌
5. Go中map是否线程安全？✅️（不安全）
6. Go项目：用户连接保存在哪里？❌
7. Go项目：用户不在线消息如何处理？❌
8. Go项目：客户端断开连接时如何感知和清理资源的？❌
9. Go中map加锁和用sync.Map区别?
10. sync.Map扩容有没有做一些特殊处理？
11. 一个非常大的map，想去扩容且无剩余空间了，要怎么做？

> **面试一定要录音，做复盘，不可能把面试问题全记住。**

# 北京尧创 9.2

1. 自我介绍✅️
2. 介绍两个项目❌
3. Go项目：消息如何传输以及存储的整个流程？❌（1消息序列化并发送 2服务端接收并处理 3消息分发，单聊和群聊）
4. Go项目：消息有哪些字段？❌（二者都有：发送方id，接收方id，内容，场景（单聊or群聊）内容类型（文字，图片...） proto：发送方用户名，头像 mysql：创建、更新、删除时间，图片存储路径，url）
5. Go项目：讲一下所有的表，以及如何关联的，哪些构建了索引？❌ （表：用户表，好友表，消息表，群聊表，群聊成员 关联关系：1用户与好友-多对多 2用户与群组-多对多 3消息与用户/群组 多对一 4群组与群主 一对多）
6. channel的类型❌（有缓冲or无缓冲）
7. 讲一下Redis❌（线程模型，数据结构，持久化，过期策略，内存淘汰策略，高可用主从、哨兵、集群，缓存问题击穿、穿透、雪崩）

# 深圳泉石净化科技 9.2

1. 自我介绍✅️
2. Go语言使用注意事项✅️（1.go不同版本，for中协程闭包函数值的获取 2.defer延迟函数后面普通函数和闭包函数中变量值区别 3. slice扩容导致产生新的slice）
3. 讲一下Go的map❌（概念：哈希表，引用类型，无序 底层：hmap，bmap 扩容机制：等量，增量，渐进式）
4. Go的所有类型❌（普通类型、引用类型）
5. Go的所有类型的空值❌（普通类型是零值，引用类型是nil）
6. websocket的优缺点❌（优：实时通信，开销低，支持二进制传输 缺：连接维持成本高，消息无可靠性）
7. protobuf的作用，对比其他序列化方式❌（1.序列化，二进制压缩，提高传输效率 2.兼容不同语言 3.协议向后兼容）
8. protobuf的使用方式❌（1.定义proto文件 2.生成代码 3.序列化发送 4.接收反序列化）
9. 什么是软删除❌(delete_at字段，标记删除时间)
10. Gorm一条语句如何写的❌（`db.Where("user_id = ?", userId).Find(&friends)`）

# 人民网一面 9.2

1. 自我介绍✅️

2. 介绍Go项目 ❌（RESTfulAPI前后端分离架构，后端Gin框架，Gorm操作数据库，功能：1.单聊群聊 2.多种消息类型 3.好友和群聊管理 技术：1实时通讯-》websocket 2传输效率-》protobuf 3高并发-》kafka（异步，削峰））

3. Go项目：100个在线用户，只有3-4用户在聊天，是如何处理websocket连接的？❌（1.连接建立并注册 map管理 2.客户端（前端） 定时发送心跳包 3.读写分离两个goroutine 4. 消息按需分发 5. goroutine占用资源少）

4. 三段代码运行结果题❌

   ```go
   func main() {
       s := []int{1, 2, 3}
       ss := [1:]
       ss[0] = 99
       fmt.Println(ss) // [1, 99, 3]
   }
   ```

   ```go
   func main() {
       v m map[string]int
       m["key"] = 42 // m未初始化，panic
       fmt.Println(m)
   }
   ```

   ```go
   for i := 0; i < 10; i++ {
       go func() {
           fmt.Println(i)
           // go1.20.x前 全是9
           // go1.21后   随机的0-9
       }()
   }
   time.Sleep(time.second)
   ```
