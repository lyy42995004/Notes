`std::functional` 是 C++ 标准库中提供的一个函数包装器，位于头文件 `<functional>` 中。它可以存储、复制和调用任何可调用对象，如函数、lambda 表达式、函数指针、成员函数指针等。它的主要用途是提高代码的灵活性和可复用性，尤其是在泛型编程、回调函数实现等场景下。

# 功能和特性

- **存储可调用对象**：可以将函数、lambda 表达式、函数指针甚至对象的成员函数包装为 `std::function`，方便后续调用或传递。
- **统一接口**：无需显式声明函数的类型，可以用 `std::function` 提供统一的接口，避免模板复杂性。
- **支持延迟执行**：将函数或可调用对象存储在 `std::function` 中，可在未来适当的时机执行。

# 函数对象包装器 `std::function`

`std::function` 是一个通用的多态函数包装器，它可以存储、复制和调用任何可调用对象，包括普通函数、成员函数、函数对象（重载了 `operator()` 的类对象）和 lambda 表达式。

- **类型擦除**：`std::function` 隐藏了底层可调用对象的具体类型，只关注其调用签名（返回类型和参数列表）。这使得可以将不同类型的可调用对象存储在同一个 `std::function` 实例中。
- **可赋值**：可以在运行时将不同的可调用对象赋值给同一个 `std::function` 实例，实现动态绑定。

```C++
void Task() {
    std::cout << "Task ..." << std::endl;
}

int main() {
    std::function<void()> func = Task;
    func(); // 调用任务函数
    return 0;
}
```

# 绑定器 `std::bind`

`std::bind` 用于创建一个新的可调用对象，它可以将一个可调用对象和其参数进行绑定，部分固定参数的值，生成一个新的可调用对象，方便后续调用

- **参数绑定**：可以固定部分参数的值，也可以使用占位符 `std::placeholders::_1`, `std::placeholders::_2`, ... 来表示在调用新的可调用对象时需要提供的参数位置。
- **灵活组合**：可以将不同的可调用对象和参数进行组合，生成复杂的调用逻辑。

```C++
int add(int a, int b) {
    return a + b;
}

int main() {
    // 固定第一个参数为 10
    auto addTen = std::bind(add, 10, std::placeholders::_1);
    std::cout << "Add ten result: " << addTen(5) << std::endl;

    return 0;
}	
```

# 使用场景

-  **回调机制**：在事件驱动的编程中，经常需要注册回调函数。`std::function` 可以方便地存储和调用不同类型的回调函数，实现灵活的事件处理机制。

- **函数组合**：通过 `std::bind` 和 `std::function` 可以实现函数的组合，将多个简单的函数组合成一个复杂的函数。

- **标准库算法定制**：在使用标准库算法时，可以使用 `<functional>` 中的函数对象和绑定器来定制算法的行为，例如自定义排序规则、查找条件等。